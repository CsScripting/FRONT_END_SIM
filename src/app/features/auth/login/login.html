<div class="login-container">
  <div class="login-form">
    <div class="app-header">
      <img src="/assets/images/logo.png" alt="Company Logo" class="app-logo">
    </div>
    <h1>Systems Integration Manager</h1>

    <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
      <div class="form-group search-group">
        <label for="organization">Select Institution</label>
        <input 
          type="text" 
          id="organization" 
          formControlName="organization" 
          placeholder="Search..." 
          (focus)="showDropdown = true"
          (keydown)="onKeydown($event)"
          required>
        <span class="search-icon"><img src="/assets/icons/search-icon.png" alt="Search" /></span>
        <div class="autocomplete-dropdown" *ngIf="showDropdown">
          <ul>
            <li *ngFor="let client of filteredClients; let i = index" 
                (click)="selectClient(client)"
                [class.active]="i === activeIndex">
              {{ client.name }}
            </li>
            <li *ngIf="filteredClients.length === 0 && loginForm.get('organization')?.value" class="no-results">
              No institutions found
            </li>
          </ul>
        </div>
      </div>

      <div class="form-group">
        <label for="username">Email</label>
        <input type="text" id="username" formControlName="username" required>
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" id="password" formControlName="password" required>
      </div>
      <button type="submit" [disabled]="loginForm.invalid">Sign In</button>
    </form>
  </div>
  <div class="login-info">
    <p>Whether you're looking to <strong>optimize your operations</strong>, navigate complex challenges, or implement <strong>new procedures</strong>, we are here to provide the <strong>strategic guidance</strong> and support you need.</p>
  </div>
</div>
